import{B as x}from"./BaseTable.7d7eef5d.js";import{d as j}from"./department.fcf9a9fc.js";import{E as V}from"./element-plus.0bba315d.js";import{d as D,r as p,x as S,L as c,y as v,z as q,M as d,T as a,u as e}from"./@vue.9c08947a.js";import"./Pagination.295be00e.js";import"./index.4e75134c.js";import"./vue-router.b618a26a.js";import"./vuex.065c2c4f.js";import"./@element-plus.23e42c8b.js";import"./@vueuse.212963bc.js";import"./lodash.c260b632.js";import"./dayjs.a4bdb7c5.js";import"./@popperjs.a8a4a6a0.js";import"./async-validator.5d25c98b.js";import"./memoize-one.4ee5c96d.js";import"./normalize-wheel-es.9a219a59.js";import"./request.5d9e63a1.js";import"./axios.7aed06b8.js";const y=D({name:"department"});function B(E,{expose:_}){const g=p({iconName:"cascades",pageName:"\u9662\u7CFB"}),r=p({deptData:[],isDisabled:!1,isShowSearched:!1}),h=p({id:"",currentPage:1,pageSize:10}),t=p({data:{id:"",name:"",chairman:"",phone:""},rules:{id:[{required:"true",trigger:"change",message:"\u8BF7\u8F93\u5165\u9662\u7CFB\u7F16\u53F7"},{pattern:/^10/,message:"\u9662\u7CFB\u7F16\u53F7\u8981\u4EE510\u5F00\u5934"},{min:4,max:4,message:"\u9662\u7CFB\u7F16\u53F7\u7684\u957F\u5EA6\u5E94\u4E3A4"},{pattern:/^10[0-9]{2}$/,message:"\u9662\u7CFB\u7F16\u53F7\u5FC5\u987B\u662F\u6B63\u6574\u6570"},{validator:w}],name:[{required:"true",message:"\u8BF7\u8F93\u5165\u9662\u7CFB\u540D\u79F0",trigger:["change","blur"]}],chairman:[{required:"true",message:"\u8BF7\u8F93\u5165\u9662\u7CFB\u4E3B\u4EFB\u540D",trigger:["change","blur"]}],phone:[{pattern:/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7",trigger:["change","blur"]}]}});function u(){j.read_datas().then(n=>{r.deptData=n.data}).catch(()=>{V.error("\u52A0\u8F7D\u9662\u7CFB\u4FE1\u606F\u6570\u636E\u5931\u8D25!")})}S(()=>{u()});function w(n,o,l){r.isDisabled?l():r.deptData.map(i=>i.id).indexOf(o)!=-1?l(new Error("\u9662\u7CFB\u7F16\u53F7\u5DF2\u7ECF\u5B58\u5728")):l()}function b(n){r.isDisabled=n}function f(n){r.isShowSearched=n}return _({page:g,state:r,query:h,form:t,getData:u,emitIsDisabled:b,emitIsShowSearched:f}),(n,o)=>{const l=c("el-table-column"),i=c("el-input"),m=c("el-form-item");return v(),q(x,{page:e(g),query:e(h),data:e(r).deptData,form:e(t),"get-data":u,apis:e(j),onEmitIsDisabled:b,onEmitIsShowSearched:f},{filter:d(()=>[]),tableColumn:d(()=>[a(l,{prop:"id",label:"\u9662\u7CFB\u7F16\u53F7",width:"140",align:"center",sortable:!e(r).isShowSearched,"sort-orders":["ascending","descending"]},null,8,["sortable"]),a(l,{prop:"name",label:"\u9662\u7CFB\u540D\u5B57",width:"220",align:"center"}),a(l,{prop:"chairman",label:"\u4E3B\u4EFB\u540D",width:"140",align:"center"}),a(l,{prop:"phone",label:"\u4E3B\u4EFB\u624B\u673A\u53F7","min-width":"180",align:"center"})]),showDialog:d(()=>[a(m,{label:"\u9662\u7CFB\u7F16\u53F7",prop:"id"},{default:d(()=>[a(i,{modelValue:e(t).data.id,"onUpdate:modelValue":o[0]||(o[0]=s=>e(t).data.id=s),placeholder:"\u8BF7\u8F93\u5165\u7F16\u53F7",maxlength:"4","show-word-limit":"",disabled:e(r).isDisabled},null,8,["modelValue","disabled"])]),_:1}),a(m,{label:"\u9662\u7CFB\u540D\u5B57",prop:"name"},{default:d(()=>[a(i,{modelValue:e(t).data.name,"onUpdate:modelValue":o[1]||(o[1]=s=>e(t).data.name=s),placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(m,{label:"\u4E3B\u4EFB\u540D",prop:"chairman"},{default:d(()=>[a(i,{modelValue:e(t).data.chairman,"onUpdate:modelValue":o[2]||(o[2]=s=>e(t).data.chairman=s),placeholder:"\u8BF7\u8F93\u5165\u4E3B\u4EFB\u540D",maxlength:"10","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(m,{label:"\u4E3B\u4EFB\u624B\u673A\u53F7",prop:"phone"},{default:d(()=>[a(i,{modelValue:e(t).data.phone,"onUpdate:modelValue":o[3]||(o[3]=s=>e(t).data.phone=s),type:"tel",placeholder:"\u624B\u673A\u53F7",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1},8,["page","query","data","form","apis"])}}const Q=Object.assign(y,{setup:B});export{Q as default};
